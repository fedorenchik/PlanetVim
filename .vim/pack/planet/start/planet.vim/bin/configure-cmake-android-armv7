#!/bin/bash

$ANDROID_SDK/cmake/3.22/bin/cmake .. \
	-DCMAKE_INSTALL_PREFIX=$PWD/opencv_android \
	-DOPENCV_EXTRA_MODULES_PATH=../../opencv_contrib/modules \
	-DANDROID_ABI="armeabi-v7a with NEON" \
	-DANDROID_NATIVE_API_LEVEL=23 \
	-DANDROID_TOOLCHAIN=clang \
	-DCMAKE_TOOLCHAIN_FILE=$ANDROID_NDK/build/cmake/android.toolchain.cmake \
	-DANDROID_NDK=$ANDROID_NDK \
	-DANDROID_SDK=$ANDROID_SDK \
	-DBUILD_SHARED_LIBS=ON \
	-DCMAKE_BUILD_TYPE=Release \
	-DBUILD_ANDROID_PROJECTS=OFF \
	-DWITH_OPENCL=ON \
	-DWITH_TBB=ON \
	-DENABLE_NEON=ON \
	-DANDROID_ARM_NEON=ON \
	-DBUILD_TESTS=OFF \
	-DBUILD_PERF_TESTS=OFF \
	..

